<!DOCTYPE html>
<html>
<head>
    <title>Personlist app (function style)</title>
    <script src="../../lib/nomodule/hof.js"></script>
    <script>
        const counterStore = {
            value: 10,

            increment() { this.value++; }, 
            decrement() { this.value--; },

            // Arrow functions not supported because this cannot be bound
            // increment: () => this.value++;
        };

        customElements.define('counter-component', class extends HofHtmlElement {
            constructor() { super('div'); super.useAutoProps(); }

            counterStore = counterStore;

            render() {
                super.renderContent(() => `
                    <div>${new Date()}</div>
                    <div>Aktueller Wert: ${this.counterStore.value} <button onclick="${() => this.counterStore.value++}">Erh√∂hen</button></div>
                `);
            }
        });
    </script>
</head>
<body>
    <h1>Counter app (function style)</h1>
    <counter-component></counter-component>
    <counter-component></counter-component>
</body>
</html>